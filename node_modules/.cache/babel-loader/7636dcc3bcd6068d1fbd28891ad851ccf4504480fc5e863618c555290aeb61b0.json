{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactPlayer from'react-player';import axios from'axios';import'./App.css';// Import a CSS file for styling (you can create your own)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[overlays,setOverlays]=useState([]);const[url,setUrl]=useState('');const[videoSize,setVideoSize]=useState({width:'100%',height:'auto'});useEffect(()=>{// Fetch overlays from the API\naxios.get('/api/overlays').then(response=>setOverlays(response.data)).catch(error=>console.error('Error fetching overlays:',error));},[]);const handleOverlayChange=(overlayId,newData)=>{// Update overlay on the backend\naxios.put(\"/api/overlays/\".concat(overlayId),newData).then(response=>console.log(response.data)).catch(error=>console.error('Error updating overlay:',error));};const handleUrlChange=newUrl=>{setUrl(newUrl);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"main-heading\",children:\"Live Stream App\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",style:videoSize,children:[/*#__PURE__*/_jsx(ReactPlayer,{url:url,playing:false,controls:true,width:\"100%\",height:\"100%\"}),overlays.map(overlay=>/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",style:{position:'absolute',left:\"\".concat(overlay.position.x,\"%\"),top:\"\".concat(overlay.position.y,\"%\"),width:\"\".concat(overlay.size.width,\"%\"),height:\"\".concat(overlay.size.height,\"%\"),zIndex:1},children:overlay.content},overlay._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-input-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rtspUrl\",children:\"RTSP URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"rtspUrl\",value:url,onChange:e=>handleUrlChange(e.target.value)})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","ReactPlayer","axios","jsx","_jsx","jsxs","_jsxs","App","overlays","setOverlays","url","setUrl","videoSize","setVideoSize","width","height","get","then","response","data","catch","error","console","handleOverlayChange","overlayId","newData","put","concat","log","handleUrlChange","newUrl","className","children","style","playing","controls","map","overlay","position","left","x","top","y","size","zIndex","content","_id","htmlFor","type","id","value","onChange","e","target"],"sources":["/Users/nikhil/Desktop/Desktop/StreamApp/overlay-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\nimport axios from 'axios';\n\nimport './App.css'; // Import a CSS file for styling (you can create your own)\n\nfunction App() {\n  const [overlays, setOverlays] = useState([]);\n  const [url, setUrl] = useState('');\n  const [videoSize, setVideoSize] = useState({ width: '100%', height: 'auto' });\n\n  useEffect(() => {\n    // Fetch overlays from the API\n    axios.get('/api/overlays')\n      .then(response => setOverlays(response.data))\n      .catch(error => console.error('Error fetching overlays:', error));\n  }, []);\n\n  const handleOverlayChange = (overlayId, newData) => {\n    // Update overlay on the backend\n    axios.put(`/api/overlays/${overlayId}`, newData)\n      .then(response => console.log(response.data))\n      .catch(error => console.error('Error updating overlay:', error));\n  };\n\n  const handleUrlChange = (newUrl) => {\n    setUrl(newUrl);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h1 className=\"main-heading\">Live Stream App</h1>\n      <div className=\"video-container\" style={videoSize}>\n        <ReactPlayer\n          url={url}\n          playing={false}\n          controls={true}\n          width=\"100%\"\n          height=\"100%\"\n        />\n        {overlays.map(overlay => (\n          <div\n            key={overlay._id}\n            className=\"overlay\"\n            style={{\n              position: 'absolute',\n              left: `${overlay.position.x}%`,\n              top: `${overlay.position.y}%`,\n              width: `${overlay.size.width}%`,\n              height: `${overlay.size.height}%`,\n              zIndex: 1,\n            }}\n          >\n            {overlay.content}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"url-input-container\">\n        <label htmlFor=\"rtspUrl\">RTSP URL:</label>\n        <input\n          type=\"text\"\n          id=\"rtspUrl\"\n          value={url}\n          onChange={(e) => handleUrlChange(e.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}